version: '3'
services:
  crudrest:
   image: crudrestapi:V3
   container_name: crudrest
   restart: always
   depends_on:
     - mysql
   ports:
     - 8080:8080
 
  mysql:
   image: mysql:5.7
   command: --default-authentication-plugin=mysql_native_password
 #  command: CREATE DATABASE crud_demo;
   container_name: mysql
   environment:
 #    MYSQL_USER: root
 #    MYSQL_RANDOM_ROOT_PASSWORD: root
     MYSQL_ROOT_HOST: "%"
     MYSQL_DATABASE: crud_demo
#     MYSQL_PASSWORD: root
     MYSQL_ROOT_PASSWORD: root
#   volumes:
#     - mysql:/var/lib/mysql
#     - ./mysql-dump:/docker-entrypoint-initdb.d
#     - ./mysql/my.cnf:/etc/mysql/my.cnf
   ports:
     - 3306:3306
 
#volumes:
#  mysql:
